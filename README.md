# Парсер документации Python

### Описание проекта и используемые технологии

В проекте объединено 4 парсера и реализована возможность запуска каждого парсера через аргументы командной строки через **argparse**.
Прогресс-бар в проекте реализован при помощи библиотеки **tqdm**.
для парсинга была выбрана  библиотека **Beautiful Soup** четвёртой версии, bs4.
Парсер работает в 4-х разных режимах и умеет:

1) Собирать ссылки на статьи о нововведениях в Python, переходить по ним и забирать информацию об авторах и редакторах статей. *(Режим whats-new)*
2) Собирать информацию о статусах версий Python — номера, статусы и ссылки на документацию. *(Режим latest-versions)*
3) Скачивать архив с актуальной документацией. *(Режим download)*
4) Собирать и обрабатывать определённую информацию о документах PEP, затем сохранить результат в табличном виде в csv-файл. *(Режим pep)*

В проекте настроено логирование с помощью стандартной библиотеки **logging** : в логи записывается время начала и окончания работы парсера, а также информация о том, какие аргументы командной строки были переданы при запуске программы. Так же в логи записывается информация о том, когда файл (архиф с документацией Python или csv-файл с результатами) загрузился и где был сохранён. В проекте реализованы перехват ожидаемых ошибок, их логирование и обработка.

В режиме парсинга *pep* собираются данные обо всех документах PEP, сравнивается статус на странице PEP со статусом в общем списке, считается количество PEP в каждом статусе и общее количество PEP, а результат сохраняется в csv-файл.

Парсер так же может очищать кеш с помощью аргумента ***-с --clear-cache***
В трёх режимах парсер выводит информацию либо в терминал построчно (если без аргумента), либо в виде таблицы **PrettyTable** в терминал (с аргументом ***-o --output {pretty}***), либо записывает данные в csv-файл (с аргументом ***-o --output {file}***).

### Как запустить проект:
Клонировать репозиторий и перейти в него в командной строке: 
```
git clone git@github.com:miscanth/bs4_parser_pep.git
```
Cоздать и активировать виртуальное окружение: 
```
python3.9 -m venv venv 
```
* Если у вас Linux/macOS 

    ```
    source env/bin/activate
    ```
* Если у вас windows 
 
    ```
    source env/scripts/activate 
    ```
```
python3.9 -m pip install --upgrade pip
```
Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
```
cd scr
```
Посмотреть возможности программы:
```
python3.9 main.py -h
```
```
usage: main.py [-h] [-c] [-o {pretty,file}] {whats-new,latest-versions,download,pep}

Парсер документации Python

positional arguments:
  {whats-new,latest-versions,download,pep}
                        Режимы работы парсера

optional arguments:
  -h, --help            show this help message and exit
  -c, --clear-cache     Очистка кеша
  -o {pretty,file}, --output {pretty,file}
                        Дополнительные способы вывода данных
```